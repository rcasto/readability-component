<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Readability Web Component</title>

  <style>
    textarea {
      max-width: 540px;
      width: 100%;
      height: 120px;
      margin: 0 auto 12px auto;
      display: block;
    }
    read-ability {
      --readability-margin: 0 0 16px 0;
    }
  </style>

  <!-- Include script on your page -->
  <script defer src="dist/readability.js"></script>
</head>

<body>
  <textarea id="text-input">The cat sat on the mat.</textarea>
  <read-ability>
    <div id="text-content" slot="readable-text"></div>
  </read-ability>

  <!-- Readability should be around 116 -->
  <!-- The cat sat on the mat. -->

  <!-- Readability should be around 69 -->
  <!-- This sentence, taken as a reading passage unto itself, is being used to prove a point. -->

  <!-- Readability should be around 37.5 -->
  <!-- The Australian platypus is seemingly a hybrid of a mammal and reptilian creature. -->

  <script>
    window.addEventListener('load', () => {
      // Add to custom element registry
      // This allows you to define the html tag yourself
      // in this case: <read-ability></read-ability>
      //
      // By default the Readability component is exported
      // as "Readability" on the global window object
      customElements.define('read-ability', Readability);

      const textInput = document.getElementById('text-input');
      const textContent = document.getElementById('text-content');

      textInput.addEventListener('input', () => {
        textContent.textContent = textInput.value;
      });
      textContent.textContent = textInput.value;
    });
  </script>
</body>

</html>